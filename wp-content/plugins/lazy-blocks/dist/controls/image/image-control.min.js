!function(){"use strict";const{__:e}=wp.i18n,{BaseControl:t,Button:l,DropZone:a,withNotices:i}=wp.components,{MediaPlaceholder:n}=wp.blockEditor,{useSelect:r}=wp.data,o=["image"];i((function(i){const{label:s,value:c,previewSize:m,help:d,noticeOperations:g,noticeUI:p,onChange:u=(()=>{})}=i,{mediaUpload:b,imagePreviewData:w}=r((e=>{const{getMedia:t}=e("core");let l=!1;if(c&&Object.keys(c).length&&c.id){const e=t(c.id)||!1;e&&(l={alt:e.alt_text,url:e.source_url},e.media_details&&e.media_details.sizes&&e.media_details.sizes[m]&&(l.url=e.media_details.sizes[m].source_url))}return{mediaUpload:e("core/block-editor").getSettings().mediaUpload,imagePreviewData:l}}));return wp.element.createElement(t,{label:s,help:d},wp.element.createElement("div",{className:"lzb-gutenberg-image-wrap"},c&&Object.keys(c).length?"":wp.element.createElement(n,{icon:"format-image",labels:{title:s,name:e("image","lazy-blocks")},onSelect:e=>{u(e)},notices:p,accept:"image/*",allowedTypes:o,disableMaxUploadErrorMessages:!0,onError:e=>function(e){g.removeAllNotices(),g.createErrorNotice(e)}(e)}),c&&Object.keys(c).length?wp.element.createElement("div",{className:"lzb-gutenberg-image"},wp.element.createElement(a,{onFilesDrop:e=>{b({allowedTypes:o,filesList:e,onFileChange:e=>{u(e[0])},onError:e=>{g.createErrorNotice(e)}})}}),wp.element.createElement("div",{className:"lzb-gutenberg-image-button"},wp.element.createElement(l,{isSecondary:!0,isSmall:!0,onClick:()=>{u("")}},e("Remove Image","lazy-blocks"))),wp.element.createElement("div",{className:"lzb-gutenberg-image-item",key:c.id||c.url},w.url?wp.element.createElement("img",{src:w.url,alt:w.alt}):"")):""))}))}();